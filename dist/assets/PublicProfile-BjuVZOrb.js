import{A as L,a as h,o as T,l as m,s as P,c as s,g as e,b as a,d as l,e as c,t as u,F as B,f as D,m as N}from"./index-B3C7ulGV.js";import{u as S,a as F}from"./useProfiles-B2M65liV.js";const M={key:0,class:"hero-content text-center"},q={key:1,class:"container mx-auto"},A={class:"items-center text-center"},C={key:0,class:"text-center heading text-3xl font-bold"},H={key:1,class:"text-xl text-gray-600 font-bold"},V={key:2,class:"py-4 whitespace-pre-line"},Q={key:0,class:"mt-5 pt-5 border-t-2 border-base-200"},R={class:"space-y-3"},U=["href"],j=["innerHTML"],z={key:2},O={__name:"PublicProfile",setup(G){const y=S(),d=L().params.slug,n=h(null),i=h(null),{displayName:p,tagline:_,description:v,links:g,loading:f,error:x,loadProfile:b}=F(null,d);return T(async()=>{try{if(f.value=!0,await b(),p.value===""||x.value)n.value=!0,i.value=!1;else{let r=null,o=null;const{data:t,error:k}=await m.executeQuery(P.from("profiles").select("*").eq("handle",d).single());if(!k&&t)r=t;else{const{data:w,error:E}=await m.getBySlug("profiles",d);r=w,o=E}o||!r?(n.value=!0,i.value=!1):(n.value=!1,i.value=r.active!==!1)}}catch(r){n.value=!0,i.value=!1,console.error("Error loading profile:",r)}finally{f.value=!1}}),(r,o)=>e(f)?(a(),s("div",M,o[0]||(o[0]=[l("div",{class:"max-w-md"},[l("span",{class:"loading loading-spinner loading-lg"}),l("p",{class:"py-6"},"Cargando perfil...")],-1)]))):!n.value&&i.value?(a(),s("div",q,[l("div",A,[e(p)?(a(),s("h1",C,u(e(p)),1)):c("",!0),e(_)?(a(),s("h2",H,u(e(_)),1)):c("",!0),e(v)?(a(),s("p",V,u(e(v)),1)):c("",!0)]),e(g).length?(a(),s("div",Q,[l("div",R,[(a(!0),s(B,null,D(e(g),t=>(a(),s("a",{key:t.id,href:e(N).formatUrl(t.url,t.type),target:"_blank",rel:"noopener noreferrer",class:"btn btn-primary btn-block flex items-center gap-2"},[e(y).getLinkType(t.type)?.icon?(a(),s("span",{key:0,class:"inline-block",innerHTML:e(y).getLinkType(t.type).icon},null,8,j)):c("",!0),l("span",null,u(t.title||t.url),1)],8,U))),128))])])):c("",!0)])):(a(),s("div",z,o[1]||(o[1]=[l("div",{class:"hero-content text-center"},[l("div",{class:"max-w-md"},[l("h1",{class:"text-2xl font-bold"},"Perfil no encontrado"),l("p",{class:"py-6"},"El perfil que est√°s buscando no existe o ha sido desactivado.")])],-1)])))}};export{O as default};
