import{A as b,a as g,o as k,l as L,c as s,g as e,b as a,d as t,e as c,t as u,F as T,f as w,m as P}from"./index-DV1n7CJL.js";import{u as B,a as E}from"./useProfiles-CzZQSzFl.js";const N={key:0,class:"hero-content text-center"},S={key:1,class:"container mx-auto"},F={class:"items-center text-center"},M={class:"text-center heading text-3xl font-extrabold"},A={key:0,class:"text-xl text-gray-600 font-bold"},C={key:1,class:"py-4 whitespace-pre-line"},D={key:0,class:"mt-5 pt-5 border-t-2 border-base-200"},H={class:"space-y-3"},V=["href"],q=["innerHTML"],R={key:2},I={__name:"PublicProfile",setup(U){const p=B(),f=b().params.slug,l=g(null),n=g(null),{displayName:y,tagline:_,description:v,links:m,loading:d,error:h,loadProfile:x}=E(null,f);return k(async()=>{try{if(d.value=!0,await x(),y.value===""||h.value)l.value=!0,n.value=!1;else{const{data:i,error:r}=await L.getBySlug("profiles",f);r||!i?(l.value=!0,n.value=!1):(l.value=!1,n.value=i.active!==!1)}}catch(i){l.value=!0,n.value=!1,console.error("Error loading profile:",i)}finally{d.value=!1}}),(i,r)=>e(d)?(a(),s("div",N,r[0]||(r[0]=[t("div",{class:"max-w-md"},[t("span",{class:"loading loading-spinner loading-lg"}),t("p",{class:"py-6"},"Cargando perfil...")],-1)]))):!l.value&&n.value?(a(),s("div",S,[t("div",F,[t("h1",M,u(e(y)),1),e(_)?(a(),s("h2",A,u(e(_)),1)):c("",!0),e(v)?(a(),s("p",C,u(e(v)),1)):c("",!0)]),e(m).length?(a(),s("div",D,[t("div",H,[(a(!0),s(T,null,w(e(m),o=>(a(),s("a",{key:o.id,href:e(P).formatUrl(o.url,o.type),target:"_blank",rel:"noopener noreferrer",class:"btn btn-primary btn-block flex items-center gap-2"},[e(p).getLinkType(o.type)?.icon?(a(),s("span",{key:0,class:"inline-block",innerHTML:e(p).getLinkType(o.type).icon},null,8,q)):c("",!0),t("span",null,u(o.title||o.url),1)],8,V))),128))])])):c("",!0)])):(a(),s("div",R,r[1]||(r[1]=[t("div",{class:"hero-content text-center"},[t("div",{class:"max-w-md"},[t("h1",{class:"text-2xl font-bold"},"Perfil no encontrado"),t("p",{class:"py-6"},"El perfil que est√°s buscando no existe o ha sido desactivado.")])],-1)])))}};export{I as default};
